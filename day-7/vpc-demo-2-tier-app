# VPC Demo for 2 tier app in private subnet

https://youtu.be/FZPTL_kNvXc

VPC with public-private subnet in Production

This example demonstrates how to create a VPC that we can use for servers in a production environment.

To improve resiliency, we deploy the servers in 2 Availability Zones, by using an Auto Scaling group and an Applicataion Load Balancer.
For additional security, we deploy the servers in private subnets. The servers receive requests through the load balancer. The servers can connect to the internet by using a NAT gateway.
To improve resiliency, we deploy the NAT gateway in both Availability Zones.

https://docs.aws.amazon.com/vpc/latest/userguide/vpc-example-private-subnets-nat.html

Overview:
The VPC has public subnets and private subnets in 2 Availability Zones.
Each public subnet contains a NAT gateway and a loadbalancer node.
The server run in private subnets, are launched and terminated by using an Auto Scaling group, and receive traffic from the load balancer.
The servers can connect to the internet by using the NAT gateway(NAT gateways will mask the IP addreess of applications while the applications try to access the internet)


1. Autoscaling Group - Helps for scaling the servers based on load
2. Load Balancer - different routing logics can be used to distribute the load
3. Target Group - 
4. Bastion Host or Jump Server - The app servers(EC2) are created in the private subnets. so they don't have a public IP addressor we cannot SSH into these instances directly, as we want to keep them secure we will not create any Public IP address, so we will create a Bastion host or jump server in the public subnet & through this jump server we will connect to the EC2 instance(we can have a proper logging and auditing of what traffic flows into the private server from the jump server)
